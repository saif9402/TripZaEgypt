<header
  x-data="{ open: false }"
  class="fixed top-0 left-0 w-full z-20 bg-black/30 backdrop-blur-sm text-white shadow-sm border-b border-white/10 p-3 flex justify-between"
>
  <!-- Logo -->
  <div data-i18n="nav.title" class="text-lg font-bold">tour guide</div>

  <!-- Hamburger Icon (Mobile) -->
  <button
    title="nav button"
    @click="open = true"
    class="md:hidden text-white text-2xl"
  >
    <i class="fas fa-bars"></i>
  </button>

  <!-- Desktop Nav -->
  <nav class="hidden md:flex space-x-4 items-center">
    <a
      data-i18n="nav.home"
      href="/index.html"
      class="focus:outline-none px-3 py-1 rounded-full bg-white/20 hover:bg-white/30 transition"
      >Home</a
    >
    <a
      data-i18n="nav.about"
      href="/pages/about-us.html"
      class="focus:outline-none px-3 py-1 rounded-full bg-white/20 hover:bg-white/30 transition"
      >About Us</a
    >
    <div x-data="{ openTrips: false }" class="relative">
      <button
        @click="openTrips = !openTrips"
        class="focus:outline-none px-3 py-1 rounded-full bg-white/20 hover:bg-white/30 transition"
      >
        Our Trips
      </button>
      <!-- Dropdown -->
      <ul
        x-show="openTrips"
        x-cloak
        @click.away="openTrips = false"
        x-transition:enter="transition ease-out duration-200"
        x-transition:enter-start="opacity-0 translate-y-1"
        x-transition:enter-end="opacity-100 translate-y-0"
        x-transition:leave="transition ease-in duration-150"
        x-transition:leave-start="opacity-100 translate-y-0"
        x-transition:leave-end="opacity-0 translate-y-1"
        class="absolute right-0 mt-2 w-48 bg-white text-gray-800 rounded-xl shadow-xl ring-1 ring-black/10 z-50 overflow-hidden"
        id="tripsDropdown"
      >
        <!-- All Trips (special item) -->
        <li>
          <a
            href="/pages/trips-list.html"
            class="block px-4 py-2 font-semibold text-blue-600 hover:bg-blue-50"
          >
            All Trips
          </a>
        </li>

        <!-- Divider -->
        <li><hr class="border-t border-gray-200 my-1" /></li>

        <!-- Categories will be injected here -->
      </ul>
    </div>

    <!-- Language Dropdown -->
    <div x-data="{ langOpen: false }" class="relative">
      <button
        id="currentLang"
        @click="langOpen = !langOpen"
        class="focus:outline-none px-3 py-1 rounded-full bg-white/20 hover:bg-white/30 transition"
      >
        EN
      </button>
      <ul
        x-show="langOpen"
        x-cloak
        @click.away="langOpen = false"
        x-transition:enter="transition ease-out duration-200"
        x-transition:enter-start="opacity-0 translate-y-1"
        x-transition:enter-end="opacity-100 translate-y-0"
        x-transition:leave="transition ease-in duration-150"
        x-transition:leave-start="opacity-100 translate-y-0"
        x-transition:leave-end="opacity-0 translate-y-1"
        class="absolute right-0 mt-2 w-32 bg-white text-gray-800 rounded-xl shadow-xl ring-1 ring-black/10 z-50 overflow-hidden"
      >
        <li>
          <a
            onclick="setLanguage('en')"
            href="#"
            class="flex items-center gap-2 px-4 py-2 hover:bg-sky-100"
            ><img title="img" src="/img/flags/en.jpeg" class="w-4 h-4" /> EN</a
          >
        </li>
        <li>
          <a
            onclick="setLanguage('deu')"
            href="#"
            class="flex items-center gap-2 px-4 py-2 hover:bg-sky-100"
            ><img title="img" src="/img/flags/deu.png" class="w-4 h-4" /> DEU</a
          >
        </li>
        <li>
          <a
            onclick="setLanguage('ru')"
            href="#"
            class="flex items-center gap-2 px-4 py-2 hover:bg-sky-100"
            ><img title="img" src="/img/flags/ru.png" class="w-4 h-4" /> RU</a
          >
        </li>
        <li>
          <a
            onclick="setLanguage('pl')"
            href="#"
            class="flex items-center gap-2 px-4 py-2 hover:bg-sky-100"
            ><img title="img" src="/img/flags/pl.png" class="w-4 h-4" /> PL</a
          >
        </li>
        <li>
          <a
            onclick="setLanguage('cz')"
            href="#"
            class="flex items-center gap-2 px-4 py-2 hover:bg-sky-100"
            ><img title="img" src="/img/flags/cs.png" class="w-4 h-4" /> CZ</a
          >
        </li>
      </ul>
    </div>

    <!-- Sign In Button -->
    <a href="/pages/sign-in.html">
      <button
        data-i18n="nav.signin"
        class="bg-yellow-400 text-black font-semibold py-1 px-4 rounded"
      >
        Sign In
      </button>
    </a>
  </nav>

  <!-- Overlay -->
  <!-- Overlay -->
  <div
    class="fixed inset-0 z-40 bg-black/50 backdrop-blur-sm transition-opacity"
    x-show="open"
    x-transition.opacity
    x-cloak
    @click="open = false"
  ></div>

  <!-- Mobile Top Drawer -->
  <aside
    class="fixed top-0 left-0 w-full h-fit bg-white shadow-md z-50 p-6 text-black transform transition-transform"
    x-show="open"
    x-transition:enter="transform transition ease-out duration-300"
    x-transition:enter-start="-translate-y-full"
    x-transition:enter-end="translate-y-0"
    x-transition:leave="transform transition ease-in duration-300"
    x-transition:leave-start="translate-y-0"
    x-transition:leave-end="-translate-y-full"
    x-cloak
  >
    <button
      title="b"
      class="text-black text-2xl absolute top-4 right-4"
      @click="open = false"
    >
      <i class="fas fa-times"></i>
    </button>

    <nav class="mt-10 flex flex-col space-y-4">
      <a href="/index.html" class="hover:text-blue-500" data-i18n="nav.home"
        >Home</a
      >
      <a
        href="/pages/about-us.html"
        class="hover:text-blue-500"
        data-i18n="nav.about"
        >About Us</a
      >
      <div class="flex flex-col space-y-1">
        <a
          href="/pages/trips-list.html"
          class="hover:text-blue-500"
          data-i18n="nav.trips"
          >Our Trips</a
        >
        <ul class="ml-4 text-sm space-y-1" id="mobileTripsDropdown">
          <!-- Categories injected here -->
        </ul>
      </div>

      <a
        href="/pages/sign-in.html"
        class="hover:text-blue-500"
        data-i18n="nav.signin"
        >Sign In</a
      >

      <!-- Language Switcher -->
      <div x-data="{ langOpen: false }" class="relative">
        <button
          id="mobileLangBtn"
          @click="langOpen = !langOpen"
          class="mt-4 px-3 py-2 bg-gray-200 rounded text-sm flex items-center justify-between w-full"
        >
          <span>üåê <span id="mobileLangLabel">EN</span></span>
          <i class="fas fa-chevron-down ml-2"></i>
        </button>
        <ul
          x-show="langOpen"
          x-cloak
          @click.away="langOpen = false"
          x-transition:enter="transition ease-out duration-200"
          x-transition:enter-start="opacity-0 scale-95"
          x-transition:enter-end="opacity-100 scale-100"
          x-transition:leave="transition ease-in duration-150"
          x-transition:leave-start="opacity-100 scale-100"
          x-transition:leave-end="opacity-0 scale-95"
          class="mt-2 bg-white rounded-lg shadow text-sm overflow-hidden divide-y divide-gray-100 origin-top-right"
        >
          <li>
            <a
              onclick="setLanguage('en')"
              href="#"
              class="block px-4 py-2 hover:bg-gray-100"
              ><img
                title="i"
                src="/img/flags/en.jpeg"
                class="inline w-4 h-4 mr-2"
              />
              EN</a
            >
          </li>
          <li>
            <a
              onclick="setLanguage('deu')"
              href="#"
              class="block px-4 py-2 hover:bg-gray-100"
              ><img
                title="i"
                src="/img/flags/deu.png"
                class="inline w-4 h-4 mr-2"
              />
              DEU</a
            >
          </li>
          <li>
            <a
              onclick="setLanguage('ru')"
              href="#"
              class="block px-4 py-2 hover:bg-gray-100"
              ><img
                title="i"
                src="/img/flags/ru.png"
                class="inline w-4 h-4 mr-2"
              />
              RU</a
            >
          </li>
          <li>
            <a
              onclick="setLanguage('pl')"
              href="#"
              class="block px-4 py-2 hover:bg-gray-100"
              ><img
                title="i"
                src="/img/flags/pl.png"
                class="inline w-4 h-4 mr-2"
              />
              PL</a
            >
          </li>
          <li>
            <a
              onclick="setLanguage('cz')"
              href="#"
              class="block px-4 py-2 hover:bg-gray-100"
              ><img
                title="i"
                src="/img/flags/cs.png"
                class="inline w-4 h-4 mr-2"
              />
              CZ</a
            >
          </li>
        </ul>
      </div>
    </nav>
  </aside>
</header>
